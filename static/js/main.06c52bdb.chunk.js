(this.webpackJsonpchathouse=this.webpackJsonpchathouse||[]).push([[0],{553:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a(10),c=a.n(o),i=a(14),r=a(11),l=a(75),s=a.n(l),d=a(114),j="SET_AUTHENTICATED",b="SET_UNAUTHENTICATED",u="SET_USER",O="LOADING_USER",h="MARK_NOTIFICATIONS_READ",p="SET_ERRORS",m="LOADING_UI",x="CLEAR_ERRORS",g="LOADING_DATA",v="STOP_LOADING_DATA",f="STOP_LOADING_UI",y="SET_POSTS",N="SET_POST",S="LIKE_POST",w="UNLIKE_POST",C="POST_POST",T=a(24),E=a.n(T),k=function(e,t){return function(e){e({type:m}),e({type:x}),setTimeout((function(){e({type:f}),t.push("/home")}),2e3)}},I=function(e,t){return function(){var e=Object(d.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:m}),a({type:x}),setTimeout((function(){a({type:f}),t.push("/home")}),2e3);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A=function(e){return function(t){e.push("/"),localStorage.removeItem("Token"),delete E.a.defaults.headers.common.Authorization,t({type:b})}},P=function(e){return function(t){E.a.get("/scream/".concat(e,"/like")).then((function(e){console.log("res",e.data)})).catch((function(e){return console.log(e)}))}},_=function(e){return function(t){E.a.get("/scream/".concat(e,"/unlike")).then((function(e){t({type:w,payload:e.data})})).catch((function(e){return console.log(e)}))}},F=a(611),L=a(595),U=a(589),B=a(206),R=a.n(B),D=a(207),H=a.n(D),W=a(2),G=Object(U.a)({likesButton:{right:"10%"}});var M=function(e){var t=G(),a=Object(r.b)();console.log("props",e);var n=Object(r.c)((function(e){return null===e||void 0===e?void 0:e.user})),o=(null===n||void 0===n?void 0:n.likes.find((function(t){return t.screamId===e.id})))?Object(W.jsx)(F.a,{title:"Undo like",placement:"top",className:t.likesButton,children:Object(W.jsx)(L.a,{onClick:function(){a(_(e.id))},className:"button",children:Object(W.jsx)(R.a,{color:"primary"})})}):Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(F.a,{title:"Like",placement:"top",className:t.likesButton,children:Object(W.jsx)(L.a,{onClick:function(){a(P(e.id))},className:"button",children:Object(W.jsx)(H.a,{color:"primary"})})})});return Object(W.jsx)(W.Fragment,{children:o})},X=a(23),z=a(610),J=a(597),K=a(598),V=a(596);a(208),Object(U.a)({deleteButton:{position:"absolute",left:"85%",top:"5%"}});var q=a(32),Q=a(9),Y=a(608),Z=a(599);Object(U.a)({});a(209),Object(U.a)({});var $=a(600),ee=a(602),te=a(601),ae=a(217),ne=Object(U.a)({card:{position:"relative",display:"flex",marginBottom:20,width:"500px"},image:{minWidth:200},content:{objectFit:"cover"},body:{width:"200px",overflow:"auto"}});var oe=function(e){var t=e.post;console.log("Ids",t.screamId);var a=ne();return Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)($.a,{className:a.card,children:[Object(W.jsx)(te.a,{image:"./images/second.jpeg",title:"Profile image",className:a.image}),Object(W.jsxs)(ee.a,{className:a.content,children:[Object(W.jsx)(ae.a,{className:a.title,color:"textSecondary",gutterBottom:!0,children:null===t||void 0===t?void 0:t.userHandle}),Object(W.jsxs)(ae.a,{variant:"body2",color:"textSecondary",children:["Created At:",null===t||void 0===t?void 0:t.createdAt]}),Object(W.jsx)(ae.a,{multiline:!0,className:a.body,variant:"body1",children:t.body}),Object(W.jsx)(M,{id:t.screamId}),Object(W.jsxs)("span",{children:[null===t||void 0===t?void 0:t.likeCount," Likes"]})]})]})})},ce=(a(254),a(119)),ie=a.n(ce),re=Object(U.a)({});var le=function(){var e=re(),t=Object(n.useState)({bio:"",location:"",open:!1}),a=Object(X.a)(t,2),o=a[0],c=a[1];function i(){c({open:!1})}function r(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(Q.a)(Object(Q.a)({},e),{},Object(q.a)({},a,n))}))}return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(F.a,{title:"Edit Bio",placement:"top",children:Object(W.jsx)(L.a,{onClick:function(){c({open:!0})},className:"button",children:Object(W.jsx)(ie.a,{color:"primary"})})}),Object(W.jsxs)(z.a,{open:o.open,onClose:i,fullWidth:!0,maxWidth:"xs",children:[Object(W.jsx)(V.a,{children:"Edit your details"}),Object(W.jsx)(Z.a,{children:Object(W.jsxs)("form",{children:[Object(W.jsx)(Y.a,{name:"bio",tpye:"text",label:"Bio",multiline:!0,placeholder:"A short bio about yourself...",className:e.textField,value:o.bio,onChange:r,fullWidth:!0}),Object(W.jsx)(Y.a,{name:"location",tpye:"text",label:"Location",placeholder:"Where you live...",className:e.textField,value:o.location,onChange:r,fullWidth:!0})]})}),Object(W.jsxs)(J.a,{children:[Object(W.jsx)(K.a,{onClick:i,color:"primary",children:"Cancel"}),Object(W.jsx)(K.a,{onClick:function(){console.log(o),i()},color:"primary",children:"Save"})]})]})]})},se=a(216),de=a(210),je=a.n(de),be=a(211),ue=a.n(be),Oe=Object(U.a)({profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%",margin:"10px"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}}});var he=function(e){var t,a,n,o,c,l,s,d,j=Oe(),b=(Object(i.f)(),Object(r.b)(),Object(r.c)((function(e){return null===e||void 0===e?void 0:e.user}))||[]);return Object(W.jsx)("div",{children:Object(W.jsx)(se.a,{className:j.paper,children:Object(W.jsxs)("div",{className:j.profile,children:[Object(W.jsxs)("div",{className:"image-wrapper",children:[Object(W.jsx)("img",{src:"./images/second.jpeg",alt:"profile",className:"profile-image"}),Object(W.jsx)("input",{type:"file",id:"imageInput",hidden:"hidden",onChange:function(e){var t=e.target.files[0];(new FormData).append("image",t,t.name)}}),Object(W.jsx)(F.a,{title:"Edit profile picture",placement:"top",children:Object(W.jsx)(L.a,{onClick:function(){document.getElementById("imageInput").click()},className:"button",children:Object(W.jsx)(ie.a,{color:"primary"})})})]}),Object(W.jsx)("hr",{}),Object(W.jsxs)("div",{className:"profile-details",children:[Object(W.jsxs)(ae.a,{variant:"body2",children:[Object(W.jsx)("b",{children:"Handle:-"}),null!==(t=null===b||void 0===b||null===(a=b.credentials)||void 0===a?void 0:a.handle)&&void 0!==t?t:"NA"]}),Object(W.jsx)("hr",{}),Object(W.jsxs)(ae.a,{variant:"body2",children:[Object(W.jsx)("b",{children:"Bio:-"}),null!==(n=null===b||void 0===b||null===(o=b.credentials)||void 0===o?void 0:o.bio)&&void 0!==n?n:"NA"]}),Object(W.jsx)("hr",{}),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(je.a,{color:"primary"})," ",Object(W.jsxs)("span",{children:[Object(W.jsx)("b",{children:"Location:-"}),null!==(c=null===b||void 0===b||null===(l=b.credentials)||void 0===l?void 0:l.location)&&void 0!==c?c:"NA"]}),Object(W.jsx)("hr",{})]}),Object(W.jsx)(ue.a,{color:"primary"})," ",Object(W.jsxs)("span",{children:[Object(W.jsx)("b",{children:"Joined "}),null!==(s=null===b||void 0===b||null===(d=b.credentials)||void 0===d?void 0:d.createdAt)&&void 0!==s?s:"NA"]})]}),Object(W.jsx)(le,{})]})})})},pe=a(604),me=a(603),xe=Object(U.a)({Dialogss:{height:"50px",minwidth:"500px"},Progress:{height:"5px",position:"absolute"},Button:{margin:"5px",position:"relative"}});var ge=function(e){Object(r.b)(),Object(r.c)((function(e){return null===e||void 0===e?void 0:e.user}));var t=xe(),a=Object(n.useState)(!1),o=Object(X.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)({body:""}),s=Object(X.a)(l,2),d=s[0],j=s[1],b=function(){i(!1),j({body:""})};return Object(W.jsx)("div",{children:Object(W.jsxs)("div",{children:[Object(W.jsxs)(K.a,{onClick:function(){i(!0)},variant:"contained",color:"primary",disabled:e.loading,children:["Add a Post",e.loading?Object(W.jsx)(me.a,{className:t.Progress}):null]}),Object(W.jsxs)(z.a,{fullWidth:!0,open:c,onClose:b,"aria-labelledby":"form-dialog-title",children:[Object(W.jsx)(V.a,{id:"form-dialog-title",children:"New Post"}),Object(W.jsxs)(Z.a,{children:[Object(W.jsx)(pe.a,{children:"Share what's on your Mind!!!"}),Object(W.jsx)(Y.a,{autoFocus:!0,margin:"dense",id:"text",label:"Post...",onChange:function(e){!function(e){var t=e.target,a=t.name,n=t.value;j((function(e){return Object(Q.a)(Object(Q.a)({},e),{},Object(q.a)({},a,n))}))}(e)},name:"body",value:d.body,type:"text",multiline:!0,fullWidth:!0})]}),Object(W.jsxs)(J.a,{children:[Object(W.jsx)(K.a,{onClick:b,color:"primary",children:"Cancel"}),Object(W.jsx)(K.a,{onClick:function(){e.addContent(d),console.log(d),j({body:""}),i(!1)},color:"primary",children:"Post"})]})]})]})})},ve=a(33),fe=a(605),ye=a(212),Ne=a.n(ye);Object(U.a)({});var Se=function(){return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(fe.a,{badgeContent:10,color:"secondary",children:Object(W.jsx)(Ne.a,{className:"Notification"})})})},we=a(606),Ce=a(607),Te=a(6),Ee=Object(Te.a)({root:{boxShadow:"none",textTransform:"none",fontSize:16,"margin-left":"15px",padding:"6px 12px",border:"1px solid",lineHeight:1.5,backgroundColor:"#0063cc",borderColor:"#0063cc",fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:hover":{backgroundColor:"#0069d9",borderColor:"#0062cc",boxShadow:"#0062cc"},"&:active":{boxShadow:"none",backgroundColor:"#0062cc",borderColor:"#005cbf"},"&:focus":{boxShadow:"0 0 0 0.2rem rgba(0,123,255,.5)"}}})(K.a),ke=Object(U.a)((function(e){return{margin:{}}}));var Ie=function(e){var t=ke(),a=Object(i.f)(),n=Object(r.b)();return Object(W.jsx)("div",{className:"List",children:Object(W.jsx)(we.a,{children:Object(W.jsxs)(Ce.a,{className:"nav-container",children:[Object(W.jsx)(ae.a,{variant:"h6",className:t.title,children:"Chat-House"}),Object(W.jsxs)("div",{className:"TitleBar",children:[Object(W.jsx)(Se,{}),Object(W.jsx)(Ee,{id:"Home",variant:"contained",color:"inherit",component:ve.b,to:"/home",disableRipple:!0,className:t.margin,children:"Home"}),Object(W.jsx)(Ee,{onClick:function(){n(A(a))},id:"Logout",variant:"contained",color:"inherit",disableRipple:!0,className:t.margin,children:"Logout"})]})]})})})};var Ae=function(){Object(r.b)();var e=Object(r.c)((function(e){return null===e||void 0===e?void 0:e.data.posts})),t=Object(r.c)((function(e){return null===e||void 0===e?void 0:e.data.loading}));return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Ie,{}),Object(W.jsxs)("div",{className:"HomeContainer",children:[Object(W.jsx)("div",{className:"AddPost",children:Object(W.jsx)(ge,{})}),Object(W.jsx)("div",{className:"DisplayBox",children:t?"Loading":null===e||void 0===e?void 0:e.map((function(e){return Object(W.jsx)(oe,{post:e})}))}),Object(W.jsx)("div",{className:"Profile",children:Object(W.jsx)(he,{})})]})]})},Pe=Object(Te.a)({root:{boxShadow:"none",textTransform:"none",fontSize:16,left:950,padding:"6px 12px",border:"1px solid",lineHeight:1.5,backgroundColor:"#0063cc",borderColor:"#0063cc",fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:hover":{backgroundColor:"#0069d9",borderColor:"#0062cc",boxShadow:"#0062cc"},"&:active":{boxShadow:"none",backgroundColor:"#0062cc",borderColor:"#005cbf"},"&:focus":{boxShadow:"0 0 0 0.2rem rgba(0,123,255,.5)"}}})(K.a),_e=Object(U.a)((function(e){return{margin:{margin:e.spacing(1)}}}));var Fe=function(){var e=_e();return Object(W.jsx)("div",{className:"List",children:Object(W.jsx)(we.a,{children:Object(W.jsxs)(Ce.a,{className:"nav-container",children:[Object(W.jsx)(ae.a,{variant:"h6",className:e.title,children:"Chat-House"}),Object(W.jsx)(Pe,{id:"Login",variant:"contained",color:"inherit",component:ve.b,to:"/",disableRipple:!0,className:e.margin,children:"Login"}),Object(W.jsx)(Pe,{id:"SignUp",variant:"contained",color:"inherit",component:ve.b,to:"/signup",disableRipple:!0,className:e.margin,children:"SignUp"})]})})})},Le=Object(U.a)({TextField:{margin:"20px",width:"300px"},Progress:{height:"5px",position:"absolute"},Button:{margin:"5px",position:"relative"}});var Ue=function(e){var t=Le(),a=Object(n.useState)({email:"",password:""}),o=Object(X.a)(a,2),c=o[0],l=o[1],s=Object(i.f)(),d=Object(r.b)(),j=Object(r.c)((function(e){return null===e||void 0===e?void 0:e.UI}))||[];function b(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(Q.a)(Object(Q.a)({},e),{},Object(q.a)({},a,n))}))}return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Fe,{}),Object(W.jsxs)("div",{className:"Login",children:[Object(W.jsx)("h2",{children:"Login"}),Object(W.jsx)(Y.a,{type:"email",id:"email",label:"E-mail",className:t.TextField,onChange:function(e){b(e)},name:"email",value:c.email}),Object(W.jsx)(Y.a,{type:"password",id:"password",label:"Password",className:t.TextField,onChange:function(e){b(e)},name:"password",value:c.password}),j.errors?Object(W.jsxs)("h4",{style:{color:"red"},children:["*",j.errors,"*"]}):null,Object(W.jsxs)(K.a,{type:"submit",onClick:function(e){!function(e){e.preventDefault(),""===c.email?alert("Enter Email"):""===c.password?alert("Enter Password"):d(k(c,s))}(e)},disabled:j.loading,variant:"contained",color:"primary",className:t.Button,children:[" Login",j.loading?Object(W.jsx)(me.a,{className:t.Progress}):null]}),Object(W.jsxs)("h5",{children:["Don't have an account?Sign Up ",Object(W.jsx)(ve.b,{to:"/signup",children:"here"})," "]})]})]})},Be=a(78),Re=Object(U.a)({TextField:{margin:"20px",width:"300px"},Progress:{height:"5px",position:"absolute"},Button:{margin:"5px",position:"relative"}});var De=function(e){var t=Re(),a=Object(n.useState)({email:"",password:"",confirmPassword:"",handle:""}),o=Object(X.a)(a,2),c=o[0],l=o[1],s=Object(i.f)(),d=Object(r.b)(),j=Object(r.c)((function(e){return null===e||void 0===e?void 0:e.UI}))||[];function b(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(Q.a)(Object(Q.a)({},e),{},Object(q.a)({},a,n))}))}return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Fe,{}),Object(W.jsxs)("div",{className:"SignUp",children:[Object(W.jsx)("h2",{children:"Sign Up"}),Object(W.jsx)(Y.a,{type:"email",id:"email",label:"E-mail",className:t.TextField,onChange:function(e){b(e)},name:"email",value:c.email}),Object(W.jsx)(Y.a,{type:"password",id:"password",label:"Password",className:t.TextField,onChange:function(e){b(e)},name:"password",value:c.password}),Object(W.jsx)(Y.a,{type:"password",id:"standard-basic",label:"Confirm password",className:t.TextField,onChange:function(e){b(e)},name:"confirmPassword",value:c.confirmPassword}),Object(W.jsx)(Y.a,{type:"text",id:"text",label:"Handle name",className:t.TextField,onChange:function(e){b(e)},name:"handle",value:c.handle}),j.errors?Object(W.jsxs)("h4",{style:{color:"red"},children:["*",j.errors,"*"]}):null,Object(W.jsxs)(K.a,{type:"submit",disabled:j.loading,onClick:function(){console.log("Length",c.password.length),c.email&&c.password&&c.confirmPassword&&c.handle?c.password.length<7?Be.a.error("Password length should be greater than 6"):c.password!==c.confirmPassword?Be.a.error("Password don't match"):d(I(c,s)):Be.a.error("Please fill all fields")},variant:"contained",color:"primary",className:t.Button,children:["Sign Up",j.loading?Object(W.jsx)(me.a,{className:t.Progress}):null]}),Object(W.jsxs)("h5",{children:["Have an account?Login ",Object(W.jsx)(ve.b,{to:"/",children:"here"})," "]})]})]})},He=a(79),We=a(145),Ge=a(120),Me={posts:[],post:{},loading:!1},Xe={authenticated:!1,loading:!1},ze={loading:!1,errors:null},Je=Object(He.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(Q.a)(Object(Q.a)({},e),{},{authenticated:!0});case b:return Xe;case u:return Object(Q.a)({authenticated:!0,loading:!1},t.payload);case O:return Object(Q.a)(Object(Q.a)({},e),{},{loading:!0});case S:return Object(Q.a)(Object(Q.a)({},e),{},{likes:[].concat(Object(Ge.a)(e.likes),[{userHandle:e.credentials.handle,postId:t.payload.postId}])});case w:return Object(Q.a)(Object(Q.a)({},e),{},{likes:e.likes.filter((function(e){return e.postId!==t.payload.postId}))});case h:return e.notifications.forEach((function(e){return e.read=!0})),Object(Q.a)({},e);default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(console.log("Test",t.payload),t.type){case g:return Object(Q.a)(Object(Q.a)({},e),{},{loading:!0});case v:return Object(Q.a)(Object(Q.a)({},e),{},{loading:!1});case y:return Object(Q.a)(Object(Q.a)({},e),{},{posts:t.payload,loading:!1});case N:return Object(Q.a)(Object(Q.a)({},e),{},{post:t.payload});case C:return Object(Q.a)(Object(Q.a)({},e),{},{posts:[t.payload].concat(Object(Ge.a)(e.posts))});default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(Q.a)(Object(Q.a)({},e),{},{loading:!1,errors:t.payload});case x:return Object(Q.a)(Object(Q.a)({},e),{},{errors:null});case m:return Object(Q.a)(Object(Q.a)({},e),{},{loading:!0});case f:return Object(Q.a)(Object(Q.a)({},e),{},{loading:!1});default:return e}}}),Ke=Object(He.d)(Je,Object(He.c)(Object(He.a)(We.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));a(256),localStorage.Token;var Ve=function(){return Object(W.jsx)("div",{className:"App",children:Object(W.jsx)(r.a,{store:Ke,children:Object(W.jsxs)(i.c,{children:[Object(W.jsx)(i.a,{exact:!0,path:"/home",component:Ae}),Object(W.jsx)(i.a,{exact:!0,path:"/",component:Ue}),Object(W.jsx)(i.a,{exact:!0,path:"/signup",component:De})]})})})};a(257),a(258);Be.a.configure(),c.a.render(Object(W.jsx)(ve.a,{children:Object(W.jsx)(Ve,{})}),document.getElementById("root"))}},[[553,1,2]]]);
//# sourceMappingURL=main.06c52bdb.chunk.js.map